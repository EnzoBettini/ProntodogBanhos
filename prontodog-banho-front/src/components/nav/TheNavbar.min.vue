<template><nav class="bg-gradient-to-r from-white via-primary-50 to-secondary-50 border-b border-primary-200/30 shadow-lg backdrop-blur-sm w-full relative"><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-50"></div><div class="w-full px-4 sm:px-6 lg:px-8 relative z-10"><div class="flex justify-between items-center h-16"><div class="flex items-center group"><div class="relative"><FontAwesomeIcon icon="bath" class="text-primary-500 text-xl mr-3 transform group-hover:scale-110 transition-all duration-300 group-hover:rotate-12 drop-shadow-lg" /><div class="absolute inset-0 bg-primary-400 rounded-full blur-xl opacity-0 group-hover:opacity-30 transition-opacity duration-500 -z-10"></div></div><h1 class="text-xl font-bold bg-gradient-to-r from-primary-700 to-secondary-600 bg-clip-text text-transparent drop-shadow-sm">{{ pageTitle}} </h1></div><div class="flex items-center space-x-4"><button class="relative p-3 rounded-xl text-gray-500 hover:text-primary-600 hover:bg-gradient-to-br hover:from-primary-50 hover:to-secondary-50 transition-all duration-300 transform hover:scale-105 hover:shadow-lg group" title="Notificações (Em breve)" ><FontAwesomeIcon icon="bell" class="w-5 h-5 group-hover:animate-pulse" /><div class="absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-400 to-red-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></button><div class="relative z-[50]" ref="userMenuRef"><button @click="toggleUserMenu" class="flex items-center space-x-3 p-3 rounded-xl hover:bg-gradient-to-br hover:from-primary-50 hover:to-secondary-50 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-2 transform hover:scale-105 hover:shadow-lg group" ><div class="relative w-9 h-9 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 transform group-hover:rotate-6"><span class="text-sm font-bold text-white drop-shadow-sm">{{ userInitials}} </span><div class="absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full border-2 border-white shadow-sm animate-pulse"></div></div><div class="hidden md:block text-left"><p class="text-sm font-semibold text-gray-800 group-hover:text-primary-700 transition-colors">{{ currentUser.name}}</p><p class="text-xs text-gray-600 group-hover:text-secondary-600 transition-colors font-medium">{{ currentUser.role}}</p></div><FontAwesomeIcon :icon="isUserMenuOpen ? 'chevron-up' : 'chevron-down'" class="w-4 h-4 text-gray-500 group-hover:text-primary-500 transition-all duration-300 transform group-hover:scale-110" :class="{ 'rotate-180': isUserMenuOpen}" /></button><Transition name="fade-scale" appear ><div v-if="isUserMenuOpen" class="absolute right-0 mt-3 w-72 bg-white backdrop-blur-xl rounded-2xl shadow-2xl border border-primary-200/50 py-2 z-[99999] overflow-hidden" style="box-shadow: 0 25px 50px -12px rgba(17, 153, 142, 0.25), 0 20px 25px -5px rgba(17, 153, 142, 0.1)" ><div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 to-secondary-50/50 opacity-60"></div><div class="relative px-6 py-4 border-b border-primary-200/50"><div class="flex items-center space-x-4"><div class="relative w-12 h-12 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center shadow-lg transform hover:rotate-6 transition-transform duration-300"><span class="text-base font-bold text-white drop-shadow-sm">{{ userInitials}} </span><div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full border-2 border-white shadow-sm animate-pulse"></div></div><div class="flex-1"><p class="text-base font-bold text-gray-900 mb-1">{{ currentUser.name}}</p><p class="text-sm text-gray-600 mb-2">{{ currentUser.email}}</p><div class="flex items-center gap-2"><div class="flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-green-100 to-emerald-100 rounded-full"><div class="w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse"></div><span class="text-xs font-medium text-green-700">{{ currentUser.status==='online' ? 'Online' : 'Offline'}}</span></div></div></div></div></div><div class="relative py-2 space-y-1"><button @click="goToProfile" class="flex items-center w-full px-6 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-primary-50 hover:to-secondary-50 hover:text-primary-700 transition-all duration-300 group transform hover:translate-x-1" ><FontAwesomeIcon icon="user" class="w-4 h-4 mr-4 text-gray-500 group-hover:text-primary-500 transition-colors" /><span class="font-medium">Meu Perfil</span><FontAwesomeIcon icon="chevron-right" class="w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-all transform group-hover:translate-x-1" /></button><button @click="goToSettings" class="flex items-center w-full px-6 py-3 text-sm text-gray-700 hover:bg-gradient-to-r hover:from-primary-50 hover:to-secondary-50 hover:text-primary-700 transition-all duration-300 group transform hover:translate-x-1" ><FontAwesomeIcon icon="cog" class="w-4 h-4 mr-4 text-gray-500 group-hover:text-primary-500 transition-colors group-hover:rotate-90" /><span class="font-medium">Configurações</span><FontAwesomeIcon icon="chevron-right" class="w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-all transform group-hover:translate-x-1" /></button><div class="border-t border-primary-200/50 my-2 mx-4"></div><button @click="logout" class="flex items-center w-full px-6 py-3 text-sm text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:text-red-700 transition-all duration-300 group transform hover:translate-x-1" ><FontAwesomeIcon icon="sign-out-alt" class="w-4 h-4 mr-4 text-red-500 group-hover:text-red-600 transition-colors" /><span class="font-medium">Sair</span><FontAwesomeIcon icon="chevron-right" class="w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-all transform group-hover:translate-x-1" /></button></div></div></Transition></div></div></div></div></nav></template><script setup lang="ts">import{ ref, computed, onMounted, onUnmounted} from 'vue'import{ useRoute, useRouter} from 'vue-router'import BaseBadge from '@/components/UI/BaseBadge.vue'// Propsinterface Props{ pageTitle?: string}const props=withDefaults(defineProps<Props>(),{ pageTitle: 'ProntoDog Banhos'})// Routerconst route=useRoute()const router=useRouter()// Estadoconst isUserMenuOpen=ref(false)const userMenuRef=ref<HTMLElement>()// Mock do usuário atual (futuro: vir de store de autenticação)const currentUser=ref({ name: 'João Silva', email: 'joao@prontodogbanhos.com', role: 'Administrador', status: 'online' as 'online' | 'offline', avatar: null // futuro: URL da imagem})// Computadasconst userInitials=computed(()=>{ return currentUser.value.name .split(' ') .map(name=>name.charAt(0)) .join('') .substring(0, 2) .toUpperCase()})// Métodosconst toggleUserMenu=()=>{ isUserMenuOpen.value=!isUserMenuOpen.value}const closeUserMenu=()=>{ isUserMenuOpen.value=false}const goToProfile=()=>{ closeUserMenu() // TODO: Implementar rota de perfil console.log('Navegando para perfil do usuário') // router.push('/perfil')}const goToSettings=()=>{ closeUserMenu() router.push('/configuracoes')}const logout=()=>{ closeUserMenu() // TODO: Implementar logout real console.log('Fazendo logout...') // Placeholder: mostrar confirmação if (confirm('Tem certeza que deseja sair?')){ // Futuro: limpar store de autenticação // authStore.logout() // Futuro: redirecionar para login // router.push('/login') console.log('Usuário deslogado!')}}// Click fora do menu para fecharconst handleClickOutside=(event: MouseEvent)=>{ if (userMenuRef.value && !userMenuRef.value.contains(event.target as Node)){ closeUserMenu()}}// LifecycleonMounted(()=>{ document.addEventListener('click', handleClickOutside)})onUnmounted(()=>{ document.removeEventListener('click', handleClickOutside)})// Fechar menu quando mudar de rotaimport{ watch} from 'vue'watch(route, ()=>{ closeUserMenu()})</script><style scoped>.fade-scale-enter-active{ transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); transform-origin: top right}.fade-scale-leave-active{ transition: all 0.25s cubic-bezier(0.4, 0, 0.6, 1); transform-origin: top right}.fade-scale-enter-from{ opacity: 0; transform: scale(0.95) translateY(8px)}.fade-scale-leave-to{ opacity: 0; transform: scale(0.95) translateY(8px)}.fade-scale-enter-to{ opacity: 1; transform: scale(1) translateY(0)}.fade-scale-leave-from{ opacity: 1; transform: scale(1) translateY(0)}</style>